# 功能需求与目标

## 🎯 项目目标
- 提供一个基于 Cloudflare Workers 的实时消息页面
- 使用共享密钥进行加密/解密，消息只在浏览器本地保存
- Worker 仅做 WebSocket 转发，不落地任何消息或文件

## ✅ 功能需求
- **实时消息**：通过 WebSocket 广播到同房间客户端
- **密钥加密**：使用 AES-GCM 加密文本与图片
- **文本发送**：发送框发送后清空
- **图片发送**：支持粘贴或上传图片（一次性转发）
- **密钥记忆**：密钥不变时保存在浏览器中（localStorage）
- **本地记录**：仅保存文本历史，图片不进入历史
- **连接提示**：显示连接状态与密钥指纹
- **清空本地**：一键清空当前密钥的本地文本记录

## ⚙️ 约束与非功能需求
- **无后端存储**：不依赖 KV、数据库或其他存储服务
- **跨网络可用**：不同局域网/内网，只要可访问页面即可加入同房间
- **性能限制**：图片大小限制为 512KB（可配置）
- **兼容性**：现代浏览器（支持 Web Crypto 与 WebSocket）
